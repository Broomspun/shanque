<?php
 load()->func("\x63\x6f\155\x6d\165\x6e\x69\143\x61\164\151\157\x6e"); class Printer { private $user = ''; private $key = ''; private $sn = ''; private $times = 1; private $api = "\x68\164\164\160\72\x2f\57\x61\160\151\x2e\146\x65\x69\x65\x79\x75\156\x2e\x63\x6e\57\101\x70\x69\57\117\160\145\x6e\x2f"; private $sig = ''; private $stime = TIMESTAMP; private $params = array(); public function __construct($user, $key, $sn) { goto m6BAz; HlM8A: $this->params = array("\x75\x73\x65\162" => $user, "\x73\x74\151\x6d\145" => TIMESTAMP, "\163\151\147" => sha1($user . $key . TIMESTAMP)); goto UUuJh; T3HM0: $this->key = $key; goto Yt1x3; m6BAz: $this->user = $user; goto T3HM0; Yt1x3: $this->sn = $sn; goto HlM8A; UUuJh: } public function printOrderAction($content, $times = 1) { goto GYHBC; GYHBC: $this->params["\163\x6e"] = $this->sn; goto i7dbC; PoJeQ: if ($DqdFG) { goto Hu_1c; } goto dRtNe; rsKML: $this->params["\x63\x6f\x6e\x74\x65\x6e\x74"] = implode($content); goto VD6iK; c2r52: return $result; goto cf4HT; d2RHV: $result = @json_decode($result["\x63\x6f\156\x74\145\x6e\164"], true); goto c2r52; B268W: $result = ihttp_post($this->api, $this->params); goto gjUbR; gjUbR: $DqdFG = !is_error($result); goto PoJeQ; i7dbC: $this->params["\141\x70\151\156\141\x6d\145"] = "\x4f\x70\x65\156\x5f\x70\x72\x69\x6e\164\115\163\x67"; goto rsKML; dRtNe: return error(-1, "\351\224\231\350\257\257\x3a\40{$result["\155\x65\163\163\141\147\145"]}"); goto qSRJH; qSRJH: Hu_1c: goto d2RHV; VD6iK: $this->params["\x74\x69\x6d\145\163"] = $times; goto B268W; cf4HT: } public function queryOrderStateAction($orderindex) { goto f4pAk; ApwHs: $result = ihttp_post($this->api, $this->params); goto ndiEe; vwiHg: $result = @json_decode($result["\x63\x6f\156\164\x65\156\x74"], true); goto EXO36; f4pAk: $this->params["\141\x70\x69\x6e\141\x6d\x65"] = "\x4f\x70\x65\156\137\x71\165\x65\162\x79\x4f\162\144\x65\x72\123\164\x61\164\145"; goto ucDT4; ndiEe: $DqdFG = !is_error($result); goto Dlmgt; EXO36: return $result; goto xKS6R; Z0j1Q: XKo9e: goto vwiHg; ucDT4: $this->params["\x6f\x72\x64\x65\x72\x69\144"] = $orderindex; goto ApwHs; RbXvL: return error(-1, "\351\x94\x99\350\257\257\x3a\40{$result["\155\x65\x73\163\x61\147\x65"]}"); goto Z0j1Q; Dlmgt: if ($DqdFG) { goto XKo9e; } goto RbXvL; xKS6R: } public function queryPrinterStatusAction() { goto Jc4yb; UvM7H: $DqdFG = !is_error($result); goto AVEnu; hm9qk: return error(-1, "\351\x94\231\350\257\xaf\72\40{$result["\x6d\x65\x73\x73\141\x67\145"]}"); goto NF9o2; wm_y5: $result = @json_decode($result["\143\157\156\x74\145\156\x74"], true); goto rBH4l; v6n1j: $result = ihttp_post($this->api, $this->params); goto UvM7H; NF9o2: pDWmG: goto wm_y5; ZbS39: $this->params["\x73\156"] = $this->sn; goto v6n1j; rBH4l: return $result; goto EZXTh; AVEnu: if ($DqdFG) { goto pDWmG; } goto hm9qk; Jc4yb: $this->params["\141\x70\x69\x6e\x61\x6d\145"] = "\x4f\160\x65\156\137\161\165\x65\x72\x79\120\162\x69\x6e\164\145\162\x53\x74\141\164\165\163"; goto ZbS39; EZXTh: } }