<?php
 load()->func("\x63\x6f\x6d\155\x75\x6e\151\x63\x61\x74\151\157\156"); class Printer { private $user = ''; private $key = ''; private $sn = ''; private $times = 1; private $api = "\150\x74\x74\160\x3a\57\57\141\160\151\x2e\x66\x65\151\x65\x79\165\x6e\x2e\x63\156\x2f\101\x70\151\57\117\x70\145\156\x2f"; private $sig = ''; private $stime = TIMESTAMP; private $params = array(); public function __construct($user, $key, $sn) { goto UkufY; yYtPP: $this->sn = $sn; goto ZLpB4; UkufY: $this->user = $user; goto V0ND1; ZLpB4: $this->params = array("\165\163\x65\x72" => $user, "\163\x74\x69\x6d\x65" => TIMESTAMP, "\163\x69\147" => sha1($user . $key . TIMESTAMP)); goto wsqmJ; V0ND1: $this->key = $key; goto yYtPP; wsqmJ: } public function printOrderAction($content, $times = 1) { goto Q0fVs; Q0fVs: $this->params["\163\x6e"] = $this->sn; goto ephiZ; gaoEE: $result = @json_decode($result["\143\157\x6e\x74\145\156\164"], true); goto gcHHK; NG4eq: if ($J7Rb1) { goto zG5gU; } goto a9uhB; prEl2: zG5gU: goto gaoEE; Nr1k3: $this->params["\x63\x6f\156\164\x65\156\x74"] = implode($content); goto yz0Vk; DReqx: $J7Rb1 = !is_error($result); goto NG4eq; ephiZ: $this->params["\141\160\x69\x6e\141\x6d\x65"] = "\x4f\160\145\156\x5f\160\x72\x69\156\164\x4d\163\147"; goto Nr1k3; zFrMi: $result = ihttp_post($this->api, $this->params); goto DReqx; gcHHK: return $result; goto p0N8s; a9uhB: return error(-1, "\351\x94\x99\xe8\257\257\x3a\40{$result["\x6d\145\163\163\x61\x67\x65"]}"); goto prEl2; yz0Vk: $this->params["\164\x69\x6d\x65\x73"] = $times; goto zFrMi; p0N8s: } public function queryOrderStateAction($orderindex) { goto IbOMb; lut46: $result = ihttp_post($this->api, $this->params); goto vxT3g; PdpRP: if ($J7Rb1) { goto dugL4; } goto iC6ry; A6Ogs: $this->params["\157\x72\x64\145\162\151\144"] = $orderindex; goto lut46; KnuuB: dugL4: goto pxRp6; u0tc3: return $result; goto xWy3G; pxRp6: $result = @json_decode($result["\143\157\x6e\164\x65\156\164"], true); goto u0tc3; iC6ry: return error(-1, "\xe9\224\x99\350\xaf\257\x3a\40{$result["\155\145\163\x73\x61\x67\x65"]}"); goto KnuuB; vxT3g: $J7Rb1 = !is_error($result); goto PdpRP; IbOMb: $this->params["\141\x70\x69\x6e\141\155\x65"] = "\117\x70\145\156\x5f\161\x75\145\162\x79\x4f\162\144\x65\x72\x53\164\141\x74\x65"; goto A6Ogs; xWy3G: } public function queryPrinterStatusAction() { goto Z9GIU; heS_R: NDzID: goto FG9xf; ORslk: $this->params["\x73\x6e"] = $this->sn; goto t9rxd; Z9GIU: $this->params["\141\x70\x69\x6e\x61\x6d\145"] = "\117\160\x65\156\137\161\165\145\x72\x79\x50\162\151\156\164\x65\162\x53\x74\x61\164\x75\x73"; goto ORslk; FG9xf: $result = @json_decode($result["\143\x6f\x6e\x74\x65\x6e\x74"], true); goto oKZy1; t9rxd: $result = ihttp_post($this->api, $this->params); goto BJ0gT; BJ0gT: $J7Rb1 = !is_error($result); goto vwKPL; uTSEY: return error(-1, "\xe9\x94\231\xe8\257\257\72\x20{$result["\x6d\145\x73\x73\141\x67\145"]}"); goto heS_R; vwKPL: if ($J7Rb1) { goto NDzID; } goto uTSEY; oKZy1: return $result; goto j68LY; j68LY: } }